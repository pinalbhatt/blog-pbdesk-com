<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Razor support in Umbraco</title>
  <meta name="description" content="Important Note!!!This post was written for Umbraco 4.6.1. Now new version 4.7 is available and there are certain notable changes in terms of Razor in Umbraco...">

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-hQpvDQiCJaD2H465dQfA717v7lu5qHWtDbWNPvaTJ0ID5xnPUlVXnKzq7b8YUkbN" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/mdb.min.css">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://blog.pbdesk.com/cms/razor-support-in-umbraco">
  <link rel="alternate" type="application/rss+xml" title="Pinal Bhatt's Blog" href="http://blog.pbdesk.com/feed.xml">
</head>


<body>

<nav class="navbar navbar-fixed-top z-depth-2 danger-color-dark" role="navigation">
  <div class="container ">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand navbar-brand-ttl waves-effect waves-light" href="/">Pinal Bhatt's Blog</a>
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="#products" class="waves-effect waves-light">Products <span class="sr-only">(current)</span></a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle waves-effect waves-light" data-toggle="dropdown" role="button" aria-expanded="false">List (click to expand) <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://mdbootstrap.com/product/magic-portfolio-for-video-maker/">Video Maker</a>
            </li>
            <li><a href="http://mdbootstrap.com/material-design-for-bootstrap/">Material Design for Bootstrap</a>
            </li>
            <li><a href="http://mdbootstrap.com/product/magic-portfolio-for-creative-agency">Creative Agency</a>
            </li>
            <li><a href="http://mdbootstrap.com/product/magic-portfolio-photographer">Photographer Portfolio</a>
            </li>
            <li class="divider"></li>
            <li><a href="#footer">Footer</a>
            </li>
          </ul>
        </li>
      </ul>
      <form class="navbar-form navbar-right waves-effect waves-light" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
      </form>

    </div>
  </div>
</nav>


<div class="container">
  <h2 class="page-header h2-responsive">
    Razor support in Umbraco
</h2>

<div class="row">
  <div class="col-md-8">
    <article  itemscope itemtype="http://schema.org/BlogPosting">

      <header class="post-header">
        <h1 class="post-title" itemprop="name headline" style="display: none">Razor support in Umbraco</h1>
        <p class="post-meta">
          <time datetime="2011-01-25T12:51:00-05:00" itemprop="datePublished">Jan 25, 2011</time>
           • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">{"login"=>"pbadmin", "email"=>"pinalbhatt@gmail.com", "display_name"=>"PBDesk Admin", "first_name"=>"Pinal", "last_name"=>"Bhatt"}</span></span>
          <span class="pull-right"><a href="#" ><i class="fa fa-bookmark"></i> CMS</a></span>
        </p>
        <hr/>
      </header>

      <div class="post-content" itemprop="articleBody">
        <div>
<div>Important Note!!!</div>
<div>
<p>This post was written for Umbraco 4.6.1. Now new version 4.7 is available and there are certain notable changes in terms of Razor in Umbraco 4.7. Please refer to my another post “<a href="http://blog.pbdesk.com/2011/03/razor-support-in-umbraco-47.html" target="_blank">Razor support in Umbraco 4.7</a>” for changes and new features in Umbraco 4.7 </p>
</p></div>
</p></div>
<p align="justify">On Jan 12, 2011, Umbraco team released new version 4.6.1 for Umbraco CMS engine and one of the great feature they added was the support for Razor syntax.&#160; Yes, Umbraco now supports Razor syntax. And for those guys, including me, who dislike XSLTs, this is a great alternate for them.&#160; Now we can write the logic in C# rather then in XSLT. Thanks Umbraco Team!!!. </p>
<p align="justify">Razor is tbe view engine introduced by Microsoft team with ASP.Net MVC 3.0. It is optimized around HTML generation using a code-focused templating approach. To know more about Razor, following links may be useful: </p>
<ul>
<li><a href="http://weblogs.asp.net/scottgu/archive/2010/07/02/introducing-razor.aspx" target="_blank">ScottGu's Blog Post: Introducing “Razor” – a new view engine for ASP.NET</a> </li>
<li><a href="http://www.asp.net/webmatrix/tutorials/2-introduction-to-asp-net-web-programming-using-the-razor-syntax" target="_blank">Introduction to ASP.NET Web Programming Using the Razor Syntax</a> </li>
</ul>
<p align="justify">With Umbraco 4.6, developers can use Razor syntax in Umbraco components. So now Umbraco CMS engine allows <strong><em>Razor scripts</em></strong> to be used in the same way we have been using Iron* languages, XSLT or .NET controls... as a macro. This means that you can use Razor just as you would any other language option. In short, now we can write razor scripts and associate them with Macros. </p>
<p align="justify">&#160;</p>
<h2>Creating Razor scripts in Umbraco </h2>
<p>These script files will have extension &quot;.razor&quot; and by default will live in /python folder besides Iron* files. Razor scripts can be created just like you create any other DLR script file in the Umbraco back office. <img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; margin-left: 0px; border-left-width: 0px; margin-right: 0px" title="Razor1" border="0" alt="Razor1" align="right" src="assets/Razor1-5B7-5D.jpg" width="244" height="203" /></p>
<ul>
<li>Go to &quot;Developers&quot; section </li>
</ul>
<p>&#160;</p>
<ul>
<li>Right click at &quot;Scripting Files&quot;, select &quot;Create&quot; </li>
</ul>
<p>&#160;</p>
<ul>
<li>In Create dialog box, select language as &quot;Razor by Razor Engine&quot; from the dropdown.      <br />&#160; <a href="http://blog.pbdesk.com/wp-content/uploads/2011/01/Razor2_thumb-5B4-5D.jpg"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Razor2" border="0" alt="Razor2" src="assets/Razor2_thumb-5B4-5D-300x272.jpg" width="376" height="342" /></a>&#160; </li>
<li>Fill in other fields appropriately and click &quot;Create&quot;&#160;&#160; button </li>
<li>This will bring up the editor for script. </li>
</ul>
<h2>First Razor For Umbraco : Hello, World!</h2>
<p> 
<div style="border-bottom: silver 1px solid; text-align: left; border-left: silver 1px solid; padding-bottom: 4px; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; padding-left: 4px; width: 97.5%; padding-right: 4px; font-family: &#39;Courier New&#39;, courier, monospace; direction: ltr; max-height: 200px; font-size: 8pt; overflow: auto; border-top: silver 1px solid; cursor: text; border-right: silver 1px solid; padding-top: 4px">
<div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &#39;Courier New&#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px">
<pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &#39;Courier New&#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span></pre>
<p><!--CRLF--></p>
<pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &#39;Courier New&#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px">  <span style="color: #0000ff">&lt;</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span>Hello, World!<span style="color: #0000ff">&lt;/</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span></pre>
<p><!--CRLF--></p>
<pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &#39;Courier New&#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px">  <span style="color: #0000ff">&lt;</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span>Current Page: @Model.Name<span style="color: #0000ff">&lt;</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span></pre>
<p><!--CRLF--></p>
<pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &#39;Courier New&#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px">  <span style="color: #0000ff">&lt;</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span>@Model.bodyText<span style="color: #0000ff">&lt;/</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span></pre>
<p><!--CRLF--></p>
<pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &#39;Courier New&#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span></pre>
<p><!--CRLF--></div>
</div>
<p><em>[Assuming&#160; &quot;bodyText&quot; is a property in associated document type.]</em> </p>
<p>Rest is simple, as usual, create an Macor and associate it with the above created script file.<br />
  <br /><a href="http://blog.pbdesk.com/wp-content/uploads/2011/01/image_thumb-5B11-5D.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="assets/image_thumb-5B11-5D-300x166.png" width="482" height="269" /></a>&#160;&#160;&#160;&#160; </p>
<h2>Model object</h2>
<p></p>
<p>Just like Iron* scripts, Razor scripts also have a &quot;<strong><em>Model</em></strong>&quot;&#160;&#160;&#160; object available in them which is equivelent to the &quot;<strong><em>currentPage</em></strong>&quot; parameter available in XSLT. Its of the type umbraco.MacroEngines.DynamicNode and can be used in the script to access currentPage node and data associated with it. </p>
<h2>Important Links:</h2>
<ul>
<li><a href="http://www.aaron-powell.com/umbraco-4-and-razor" target="_blank">LINQ to Fail: Using Razor in Umbraco 4</a> </li>
<li><a href="http://umbraco.org/help-and-support/video-tutorials/getting-started/working-with-webmatrix" target="_blank">Umbraco from WebMatrix</a> </li>
<li><a href="http://blog.pbdesk.com/umbraco-razor-syntax-for-breadcrumb.html">Umbraco Razor Syntax for Breadcrumb</a> </li>
<li><a href="http://blog.pbdesk.com/canonical-url-for-umbraco-using-razor.html">Canonical Url For Umbraco Using Razor Syntax</a> </li>
<li>Umbraco Razor Syntax : Code Snippets </li>
<li>Umbraco Downloads </li>
<li><a href="http://joeriks.wordpress.com/2011/01/04/playing-with-razor-in-umbraco-an-old-skool-contact-form/" target="_blank">Playing with Razor in Umbraco</a>
<p></li>
</ul>

      </div>

    </article>
    <div class="row">
      
      <div id="disqus_thread"></div>
      <script>
        /**
         * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
         */
        /*
         var disqus_config = function () {
         this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
         this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
         };
         */
        (function() { // DON'T EDIT BELOW THIS LINE
          var d = document, s = d.createElement('script');

          s.src = '//pbdesk-blog.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
      
    </div>
  </div>
  <div class="col-md-4">
    <div style="padding-left: 25px">
      <!-- PBDeskIOBlog-180x150 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:180px;height:150px"
     data-ad-client="ca-pub-4686631795727964"
     data-ad-slot="2637631941"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
    </div>
    <h4>Quick Links</h4>
<div class="collection">
    <a href="/all-posts" class="collection-item">All Posts</a>
    <a href="/categories" class="collection-item">By Category</a>
    <a href="/tag" class="collection-item">By Tag</a>
    <a href="http://www.PBDesk.com" target="_blank" class="collection-item">PBDesk.com</a>
</div>
  </div>
</div>


  <div class="row">
    <!-- PBDeskIO-Responsive2 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4686631795727964"
     data-ad-slot="2916833545"
     data-ad-format="auto"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </div>
</div>


<footer class="page-footer danger-color" if="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-3 col-md-offset-1">
        <p class="white-text center-on-small-only btxt">|| Learn ||<br/><em>Blended Learning Pathway</em></p>
        <p class="white-text center-on-small-only">Register for free and start to learn cutting edge technologies.</p>


      </div>
      <hr class="hidden-lg hidden-md">

      <div class="col-md-2">
        <p class="white-text center-on-small-only btxt">Links</p>
        <ul>
          <li><a href="#"  class="grey-text text-lighten-3" >Home</a>
          </li>
          <li><a class="grey-text text-lighten-3" href="#" target="_blank">About</a>
          </li>
          <li><a class="grey-text text-lighten-3" href="" target="_blank">Contact</a>
          </li>
          <li><a class="grey-text text-lighten-3" href="" target="_blank">Disclaimer</a>
          </li>


        </ul>
      </div>
      <hr class="hidden-lg hidden-md">

      <div class="col-md-4 text-center">
        <p class="white-text text-center">
          Concept perceived, designed & developed by <br/> Pinal Bhatt
        </p>
        <p class="white-text text-center btxt">follow me</p>
        <a target="_blank" href="https://www.facebook.com/mdbootstrap" class="btn-floating  fb-bg waves-effect waves-light"><i class="fa fa-facebook"> </i></a>
        <a target="_blank" href="https://twitter.com/MDBootstrap" class="btn-floating  tw-bg waves-effect waves-light"><i class="fa fa-twitter"> </i></a>
        <a target="_blank" href="https://plus.google.com/u/0/b/107863090883699620484/107863090883699620484/posts" class="btn-floating  gplus-bg waves-effect waves-light"><i class="fa fa-google-plus"> </i></a>
        <a target="_blank" href="https://twitter.com/MDBootstrap" class="btn-floating  tw-bg waves-effect waves-light"><i class="fa fa-twitter"> </i></a>
        <a target="_blank" href="https://twitter.com/MDBootstrap" class="btn-floating  tw-bg waves-effect waves-light"><i class="fa fa-twitter"> </i></a>
      </div>
    </div>
  </div>
  <div class="footer-copyright">
    <div class="container">
      <div class="col-md-10 col-md-offset-1">
        &copy;    <a href="http://www.PBDesk.com" target="_blank">PBDesk.com </a> - from the desk of Pinal Bhatt
      </div>
    </div>
  </div>
</footer>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<script src="/assets/js/mdb.min.js"></script>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-9753249-7', 'auto');
    ga('send', 'pageview');
</script>
</body>

</html>
